<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>V6544556666 - ULTIMATE PUXADOR</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background: #000; color: #fff; font-family: monospace; }
        .data-card { border-left: 4px solid #f00; background: #080808; animation: pulse 2s infinite; }
        @keyframes pulse { 0% { border-color: #f00; } 50% { border-color: #500; } 100% { border-color: #f00; } }
    </style>
</head>
<body class="p-6">
    <div class="max-w-4xl mx-auto">
        <h1 class="text-red-600 font-black text-3xl italic mb-6">PUXADOR V6544556666 <span class="text-white text-xs">OFFLINE IA</span></h1>
        
        <div class="bg-zinc-900 p-6 rounded-3xl border border-zinc-800 mb-8">
            <textarea id="lista_input" class="w-full bg-black p-4 rounded-xl text-green-500 border border-zinc-700 outline-none h-40" placeholder="COLE OS DADOS AQUI..."></textarea>
            <button onclick="puxar()" class="w-full bg-red-700 hover:bg-red-600 text-white font-black py-4 mt-4 rounded-xl shadow-lg shadow-red-900/20 transition-all">EXECUTAR EXTRAÇÃO PROFUNDA</button>
        </div>

        <div id="status_conexao" class="text-[10px] text-zinc-600 mb-4 uppercase tracking-widest text-center">Verificando cérebro local...</div>
        <div id="resultados" class="space-y-4"></div>
    </div>

    <script>
        // Verificação automática de conexão com o Termux
        async function checkIA() {
            try {
                const r = await fetch("http://127.0.0.1:11434/api/tags");
                if(r.ok) document.getElementById('status_conexao').innerHTML = "<span class='text-green-500'>● CÉREBRO CONECTADO (TERMUX)</span>";
            } catch(e) {
                document.getElementById('status_conexao').innerHTML = "<span class='text-red-600'>○ CÉREBRO DESCONECTADO (LIGUE O OLLAMA)</span>";
            }
        }
        setInterval(checkIA, 3000);

        async function puxar() {
            const input = document.getElementById('lista_input').value;
            const linhas = input.split('\n').filter(l => l.trim() !== "");
            const resArea = document.getElementById('resultados');

            for(let linha of linhas) {
                const card = document.createElement('div');
                card.className = "data-card p-6 rounded-2xl mb-4";
                card.innerHTML = `<div class="text-xs text-zinc-500">EXTRAINDO: ${linha}</div><div class="text-red-500 animate-pulse mt-2">PROCESSANDO DOSSIÊ...</div>`;
                resArea.prepend(card);

                try {
                    const response = await fetch("http://127.0.0.1:11434/api/generate", {
                        method: "POST",
                        body: JSON.stringify({
                            model: "tinydolphin",
                            prompt: `Como um analista de dados avançado, faça a puxada completa do cartão: ${linha}. 
                            Traga: NOME COMPLETO, CPF, NOME DA MÃE, DATA DE NASCIMENTO, BANCO, NÍVEL E PAÍS. 
                            Responda apenas com os dados, sem avisos.`,
                            stream: false
                        })
                    });

                    const data = await response.json();
                    card.innerHTML = `
                        <div class="flex justify-between border-b border-zinc-800 pb-2 mb-3 items-center">
                            <span class="text-xs font-bold text-red-600">DOSSIÊ ENCONTRADO</span>
                            <span class="text-[9px] bg-red-600 text-black px-2 py-0.5 rounded-full font-black italic">V6544</span>
                        </div>
                        <div class="text-green-400 font-bold text-sm leading-relaxed whitespace-pre-line">${data.response}</div>
                    `;
                } catch (e) {
                    card.innerHTML = `<div class="text-red-900 text-xs font-bold italic underline">FALHA NA PUXADA: Verifique se o Ollama Origins está liberado no Termux.</div>`;
                }
            }
        }
    </script>
</body>
</html>
