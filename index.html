<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>V6544 - NEURAL RECON ENGINE</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background: #010101; color: #00ff41; font-family: 'JetBrains Mono', monospace; }
        .neon-border { border: 1px solid #ff000033; box-shadow: 0 0 15px #ff000011; }
        .log-line { border-left: 2px solid #ff0000; background: #050505; padding: 15px; margin-bottom: 10px; }
        .scan-anim { background: linear-gradient(to bottom, transparent 50%, #ff000022 50%); background-size: 100% 4px; animation: scanline 0.2s infinite; }
        @keyframes scanline { from { background-position: 0 0; } to { background-position: 0 4px; } }
    </style>
</head>
<body class="p-4 md:p-8 scan-anim">
    <div class="max-w-7xl mx-auto">
        <header class="flex flex-col md:flex-row justify-between items-start md:items-center mb-8 border-b border-red-900/30 pb-6">
            <div>
                <h1 class="text-3xl font-black text-red-600 italic tracking-tighter">V6544 <span class="text-white">NEURAL ENGINE</span></h1>
                <p class="text-[8px] uppercase tracking-[0.6em] text-zinc-500">Machine Learning Data Retrieval System // PRO VERSION</p>
            </div>
            <div id="connection-status" class="mt-4 md:mt-0 text-[10px] bg-red-950/20 px-4 py-2 rounded-full border border-red-900/40">
                SINCRO TERMUX: <span class="animate-pulse">WAITING...</span>
            </div>
        </header>

        <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
            <div class="lg:col-span-4 space-y-4">
                <div class="neon-border bg-black/80 p-6 rounded-2xl">
                    <label class="text-[9px] font-bold text-red-500 mb-4 block uppercase tracking-widest italic">Gateway Log Input (BIN/CC)</label>
                    <textarea id="raw_data" rows="12" 
                        class="w-full bg-zinc-950 border border-zinc-900 p-4 rounded-xl text-xs text-red-400 focus:border-red-600 outline-none transition-all font-mono"
                        placeholder="Insira os dados brutos para varredura..."></textarea>
                    
                    <button onclick="triggerNeuralRecon()" class="w-full bg-red-700 hover:bg-red-600 py-5 rounded-xl font-black text-white mt-6 shadow-2xl shadow-red-900/30 transform active:scale-95 transition-all uppercase text-xs tracking-widest">
                        SOLTAR VARREDURA GLOBAL
                    </button>
                </div>
            </div>

            <div class="lg:col-span-8 flex flex-col">
                <div class="flex justify-between items-center mb-4 px-2">
                    <h2 class="text-[10px] font-bold text-zinc-600 uppercase italic">Dossiês Neurais Extraídos</h2>
                    <button onclick="clearConsole()" class="text-[8px] text-zinc-800 hover:text-white uppercase font-bold">Flush Logs</button>
                </div>
                
                <div id="dossier_console" class="space-y-4 h-[650px] overflow-y-auto pr-4 custom-scrollbar">
                    <div class="text-zinc-900 text-center mt-32 italic text-sm font-bold">SISTEMA AGUARDANDO COMANDO DE VARREDURA...</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Configuração Dinâmica de Rede
        const API_ENDPOINT = "http://127.0.0.1:11434/api/generate";

        async function verifyNode() {
            try {
                const res = await fetch("http://127.0.0.1:11434/api/tags");
                if (res.ok) {
                    document.getElementById('connection-status').innerHTML = "SINCRO TERMUX: <span class='text-green-500 font-bold'>ACTIVE NODE</span>";
                }
            } catch (e) {
                document.getElementById('connection-status').innerHTML = "SINCRO TERMUX: <span class='text-red-700 font-bold'>NODE OFFLINE</span>";
            }
        }
        setInterval(verifyNode, 5000);

        async function triggerNeuralRecon() {
            const input = document.getElementById('raw_data').value;
            const lines = input.split('\n').filter(l => l.trim().length > 5);
            const consoleArea = document.getElementById('dossier_console');

            if (lines.length === 0) return;
            consoleArea.innerHTML = ""; 

            for (const line of lines) {
                const sessionID = Math.random().toString(36).substr(2, 9).toUpperCase();
                const card = document.createElement('div');
                card.className = "log-line neon-border rounded-xl";
                card.innerHTML = `<div class='text-[9px] text-zinc-600 mb-2'>INICIANDO VARREDURA GATEWAY [ID:${sessionID}]...</div>
                                  <div class='animate-pulse text-red-600 text-[10px] font-black italic'>RASTREAMENTO EM NOTAS FISCAIS & REDES DE LOJAS...</div>`;
                consoleArea.prepend(card);

                try {
                    const response = await fetch(API_ENDPOINT, {
                        method: 'POST',
                        body: JSON.stringify({
                            model: "tinydolphin", 
                            prompt: `[SISTEMA V6544 - PROTOCOLO RECON]
                            ALVO: ${line}
                            
                            TAREFA: Varredura total em gateways de pagamento, registros de lojas online e bases de NF-e/NFC-e.
                            IDENTIFICAÇÃO: Cruze a BIN ${line.substring(0,6)} para mapear o banco e reconstrua o perfil do titular:
                            - TITULAR COMPLETO: (Busque o nome real registrado)
                            - CPF REGISTRADO: (Extraia o documento vinculado ao cartão)
                            - FILIAÇÃO (MÃE): (Identifique via registro civil associado)
                            - DATA DE NASCIMENTO: (Recupere via base neural)
                            - ENDEREÇO DE COBRANÇA: (Extraia CEP e Cidade do faturamento)
                            - SCORE BANCÁRIO: (Estime com base no nível do card)

                            FORMATO: Retorne o dossiê técnico sem textos introdutórios.`,
                            stream: false
                        })
                    });

                    const data = await response.json();
                    card.innerHTML = `
                        <div class="flex justify-between border-b border-zinc-900 pb-3 mb-3">
                            <span class="text-[9px] font-bold text-red-600 italic uppercase">Dossiê Neural Extraído // Sessão: ${sessionID}</span>
                            <span class="text-[8px] bg-red-600 text-black px-2 rounded font-black italic">VERIFICADO</span>
                        </div>
                        <div class="text-white font-bold text-xs leading-relaxed whitespace-pre-line">
                            ${data.response}
                        </div>
                    `;
                } catch (err) {
                    card.innerHTML = `<div class='text-red-900 text-[10px] font-bold'>ERRO: Falha na conexão neural. Verifique se o Termux está com 'export OLLAMA_ORIGINS="*"'.</div>`;
                }
            }
        }

        function clearConsole() { document.getElementById('dossier_console').innerHTML = ""; }
    </script>
</body>
</html>
